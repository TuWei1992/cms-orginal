(function(d){var b;b={init:function(){this._set.menu();this._set.fade();this._set.actImg();this._set.showQRCode();this.userinfo()},userinfo:function(){d.ajax({type:"POST",url:mallBase+"/member/simpleInfo.htm",dataType:"json",success:function(f){var e=true;if(f.isLogin){var h='<dl class="logined-box"><dt><p class="avatar-box">';if(f.photoUrl!=undefined){h=h+'<img src="'+urlHead.replace("images/aaaaa",("img2/"+f.photoUrl))+'" width="80" height="80" alt="">'}else{h=h+'<img src="http://s1.cximg.com/mmsweb/images/member/boy.png" width="80" height="80" alt="">'}h=h+'<span class="avator-skin"></span><span class="member-mark">'+a(f.verification)+"</span></p><p>Hi！"+f.userName+'</p></dt><dd class="member-info"><span class="arrow"></span>';h=h+'<p class="grade">我的积分：<strong>'+f.memberInfoCredit+"</strong></p>";h=h+'<p class="task">快来哦，做任务赚积分<a class="go" href="'+memberBase+'/member/member.htm  " target="_blank">GO&gt;</a></dd>';h=h+'<dd class="car-info"><span>我的爱车：</span>';if(f.velBrandName){h=h+"<p>"+f.velBrandName+"-"+f.velSeriesName+"</p><p>"+c(f.verification)+"</p></dd></dl>"}else{h=h+"<p>暂无爱车信息</p></dd></dl>"}d("#userinfo").html(h);d("#joinbox").hide();d("#hintbox").show();d("#slideownbox").addClass("slide-own-box");var g='<ul class="data-wrapper">';d.each(f.memberRights,function(j,i){g+='<li><a href="'+memberBase+"/member/benefits/"+i.httpUrl+'" target="_blank"><span class="img-box"><i class=""></i>';g+='<img src="'+urlHead.replace("images/aaaaa",(i.isHaveRight?i.rightIcon:i.invalidIcon))+'" alt=""></span><span class="tit">'+i.rightName+"</span>";g+="<span>&nbsp;</span></a>";if(!i.isHaveRight){g+='<p class="get-box"><i class="arrow"></i><a href="'+memberBase+'/member/member.htm" target="_blank">会员认证后<br/>可获得此权益</a></p>'}g+="</li>"});g+="</ul>";d("#chezhuquanyi").html(g)}else{var h='<dl class="unlogin-box"><dt><p class="icon-avator"></p><p>Hi！您好~</p></dt><dd><a class="login-bind" href="'+accountBase+"/account/login.htm?backUrl="+mallBase+'">登 录</a>';h=h+'<a class="register-bind" href="'+accountBase+"/account/m_register.htm?backUrl="+mallBase+'">还没有账户？注册一个吧~</a></dd>';h=h+'<dd class="desc">登录即可查看我的积分及当前可享受的权益</dd></dl>';d("#userinfo").html(h);d("#joinbox").show();d("#hintbox").hide();d("#slideownbox").removeClass("slide-own-box");var g='<ul class="data-wrapper">';d.each(f.memberRights,function(j,i){g+='<li><a href="'+memberBase+"/member/benefits/"+i.httpUrl+'" target="_blank"><span class="img-box"><i class=""></i>';g+='<img src="'+urlHead.replace("images/aaaaa",i.rightIcon)+'" alt=""></span><span class="tit">'+i.rightName+"</span>";g+="<span></span></a>";g+="</li>"});g+="</ul>";d("#chezhuquanyi").html(g)}b._set.scrollEffect()}})},_set:{menu:function(){d(".header .main-nav li").hover(function(){d(this).find(".menu-box").show()},function(){d(this).find(".menu-box").hide()});d(".header .menu-box").mouseenter(function(){d(this).show()})},fade:function(){var e=0,h,g=d("#j-banner-content li").length;if(g<2){return false}i(0);e=1;d("#j-banner-num span").hover(function(){if(h){clearTimeout(h)}e=d("#j-banner-num span").index(this);var j=d("#j-banner-content .current").index();if(e!=j){h=setTimeout(function(){i(e);e++;if(e==g){e=0}},400)}},function(){clearTimeout(h);f()});d("#j-banner-content").hover(function(){if(h){clearTimeout(h)}},function(){f()});f();function f(){h=setTimeout(function(){clearTimeout(h);i(e);e++;if(e==g){e=0}f()},4000)}function i(j){d("#j-banner-content li").eq(j).animate({opacity:"show"},1000).css({"z-index":1}).addClass("current").siblings().removeClass("current").animate({opacity:"hide"},1000).css({"z-index":0});d("#j-banner-num span").eq(j).addClass("cur").siblings().removeClass("cur")}},scrollEffect:function(){d.fn.infiniteCarousel=function(){function e(g,f){return new Array(f+1).join(g)}return this.each(function(){var j=d(".data-wrap",this).css("overflow","hidden"),l=j.find("ul"),k=l.find("> li"),h=k.filter(":first"),m=h.outerWidth(),g=Math.ceil(j.innerWidth()/m),i=1,f=Math.ceil(k.length/g),p=1;var o=m*k.length;l.width(o);j.scrollLeft(0);function n(r){var q=r<i?-1:1,t=Math.abs(i-r),s=m*q*g*t;j.filter(":not(:animated)").animate({scrollLeft:"+="+s},500,function(){i=r});return false}d(".btn-left",this).addClass("btn-left-none");d(".btn-left",this).click(function(){d(this).next().removeClass("btn-right-none");if(--p<=1){d(this).addClass("btn-left-none");p=1}return n(i-1)});d(".btn-right",this).click(function(){d(this).prev().removeClass("btn-left-none");if(++p>=f){d(this).addClass("btn-right-none");p=f}return n(i+1)})})};d(".slide-box").infiniteCarousel()},actImg:function(){var g=d(".mod-side .icon-arrow-left").parents(".mod-th").next(),i=g.find("li").length,f,e;if(i<1){d(".mod-side .icon-arrow-left").parent().hide()}d(".mod-side .icon-arrow-left").on("click",function(){f=g.find(".show").index();if(f>0){e=f-1}else{if(f===0){e=f-1+i}}h(g,e);return false});d(".mod-side .icon-arrow-right").on("click",function(){f=g.find(".show").index();if(f<i-1){e=f+1}else{if(f===i-1){e=f+1-i}}h(g,e);return false});function h(k,j){k.find(".show").removeClass("show");k.find("li").eq(j).addClass("show")}},showQRCode:function(){var f=d("html,body").height(),g=d("#j-sidebar");e();d(".close",g).on("click",function(){g.hide();return false});d(window).resize(function(){e()});function e(){var h=d(window).width();if(h<1567){g.css({left:"auto",right:0,marginLeft:"auto"})}}}}};d(function(){b.init()});function c(e){switch(e){case 1:return"未验证";break;case 2:return"验证中";break;case 3:return"已验证";break;case 4:return"验证未通过";break;default:return"未验证";break}}function a(e){switch(e){case 1:return"普通会员";break;case 2:return"普通会员";break;case 3:return"认证会员";break;case 4:return"普通会员";break;default:return"普通会员";break}}}(jQuery));