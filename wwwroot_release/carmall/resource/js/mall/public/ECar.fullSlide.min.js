(function(c,b,a){a.fullSlide=function(y){var p={ele:"fullslide",width:"100%",height:365,animtype:"slide",animduration:400,animspeed:4000,showcontrols:true,controinit:true,autoplay:true,showmarkers:true};var H=c.extend({},p,y);var E=c("#"+H.ele),x=E.find(".banner-wrap"),G=E.find("ul.slideList"),F=G.children("li"),C=F.find("a"),J=F.length,m,e=F.eq(0),g=F.eq(J-1),t,q,i,I,A,u,d=true,w;if(H.animtype=="slide"&&H.showcontrols==true){newIndexStep=-1}else{newIndexStep=0}var l=F.length;var k=0,v=0,j=-1;if(l==0||(H.showmarkers==false&&H.showcontrols==false)){return}var D=function(){z();if(H.autoplay==true){setTimeout(h,H.animspeed)}B()};var z=function(){s();G.find("a").each(function(N){var M=c(this).attr("imgsrc");var L=c(this).attr("lazyimg");if(N==0){c(this).css({height:H.height+"px",background:'url("'+L+'") repeat center 0px',display:"block",width:"100%"});c(this).attr("lazyimg","done")}else{c(this).css({height:H.height+"px",background:'url("'+M+'") repeat center 0px',display:"block",width:"100%"})}});n();F=G.children("li");m=F.length;x.append('<div class="page-num"></div>');t=x.find(".page-num");for(var o=0;o<l;o++){if(o==0){t.append('<span class="current">'+(o+1)+"</span>")}else{t.append("<span>"+(o+1)+"</span>")}}q=t.children("span");if(H.showmarkers!=true){t.css({display:"none"})}if(H.showcontrols==true){if(H.controinit==true){var K='style="display:none"'}else{var K='style="display:block"'}x.append('<div class="control-mod" '+K+'><span class="control-l"></span><span class="control-r"></span></div>');I=x.find(".control-mod");A=I.children(".control-l");u=I.children(".control-r")}};var n=function(){if(H.showcontrols!=true&&H.showmarkers==true){G.append(e.clone());G.css({left:"0px"})}else{G.append(e.clone());G.prepend(g.clone());G.css({left:-1*document.body.scrollWidth+"px"})}};var s=function(){if(H.showcontrols!=true){m=l+1}else{m=l+2}x.css({height:H.height+"px",position:"relative",width:"100%",overflow:"hidden;"});G.css({height:H.height+"px",position:"absolute",width:m*document.body.scrollWidth+100+"px",overflow:"hidden",top:"0px",left:newIndexStep*document.body.scrollWidth+"px"});F.css({height:H.height+"px","float":"left",width:document.body.scrollWidth+"px"})};var h=function(K,o){d=false;if(j!=-1){b.clearTimeout(j)}j=-1;if(K==null){k=t.children(".current").index()}q.removeClass("current");q.eq(k+1).addClass("current");k=k+1;if(k==l){q.removeClass("current");q.eq(0).addClass("current")}if(H.showcontrols!=true){newIndexStep=-1*k}else{newIndexStep=-1*(k+1)}r(newIndexStep);G.animate({left:document.body.scrollWidth*newIndexStep+"px"},{duration:H.animduration,queue:false,done:function(){if(k==l){if(H.showcontrols!=true){G.css({left:"0px"})}else{G.css({left:document.body.scrollWidth*-1+"px"})}k=0}else{if(k==-1&&o=="left"){r(-1*l);G.css({left:document.body.scrollWidth*-1*(l)+"px"})}}d=true;if(H.autoplay==true){j=b.setTimeout(h,H.animspeed)}}})};var r=function(K){var o=F.eq(-1*K).find("a");if(o.attr("lazyimg")!="done"){o.css({background:'url("'+o.attr("lazyimg")+'") repeat center 0px'});o.attr("lazyimg","done")}};var f=function(K){if(d==true){var o=t.children(".current").index();if(K=="left"){k=o-2}else{if(K=="right"){k=o}}h(k,K)}};var B=function(){E.hover(function(){if(H.showcontrols==true&&H.controinit==true){I.show()}b.clearTimeout(j)},function(){if(H.showcontrols==true&&H.controinit==true){I.hide()}if(H.autoplay==true&&d==true){j=b.setTimeout(h,H.animspeed)}});q.on("click",function(){if(d==true){var o=c(this).index();k=o-1;h(k)}});if(H.showcontrols==true){A.on("click",function(){f("left")});u.on("click",function(){f("right")})}c(b).resize(function(){s()})};D()}})(jQuery,window,window.ECar||(window.ECar={}));